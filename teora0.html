<!doctype html>
<html lang="es">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>Teoría | Resuelve problemas de regularidad equivalencia y cambio  </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta name="author" content="Huamantica Ñahui Yenifer Paola- Capcha Poma Angel Lenin " />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-sa/4.0/" />
<meta name="generator" content="eXeLearning 2.9 Portable - exelearning.net" />
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site" id="exe-node-9"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Saltar la navegación</a></p>
<header id="header" ><div id="headerContent">Resuelve problemas de regularidad equivalencia y cambio </div></header>
<nav id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">Resuelve problemas de regularidad equivalencia y cambio</a></li>
   <li><a href="ecuaciones_lineales.html" class="daddy">Ecuaciones lineales</a>
   <ul class="other-section">
      <li><a href="teora.html" class="no-ch">Teoría</a></li>
      <li><a href="practiquemos.html" class="no-ch">Practiquemos</a></li>
      <li><a href="evaluacin.html" class="no-ch">Evaluación</a></li>
   </ul>
   </li>
   <li class="current-page-parent"><a href="productos_notables.html" class="current-page-parent daddy">Productos Notables</a>
   <ul>
      <li id="active"><a href="teora0.html" class="active no-ch">Teoría</a></li>
      <li><a href="practiquemos0.html" class="no-ch">Practiquemos</a></li>
      <li><a href="evaluacin0.html" class="no-ch">Evaluación</a></li>
   </ul>
   </li>
   <li><a href="inecuaciones.html" class="daddy">Inecuaciones</a>
   <ul class="other-section">
      <li><a href="teora1.html" class="no-ch">Teoría</a></li>
      <li><a href="practiquemos1.html" class="no-ch">Practiquemos</a></li>
      <li><a href="evaluacin1.html" class="no-ch">Evaluación</a></li>
   </ul>
   </li>
   <li><a href="ecuaciones_cuadrticas.html" class="daddy">Ecuaciones Cuadráticas</a>
   <ul class="other-section">
      <li><a href="teora2.html" class="no-ch">Teoría</a></li>
      <li><a href="practiquemos2.html" class="no-ch">Practiquemos</a></li>
      <li><a href="evaluacin2.html" class="no-ch">Evaluación</a></li>
   </ul>
   </li>
</ul>
</nav>
<div id='topPagination'>
<nav class="pagination noprt">
<a href="productos_notables.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="practiquemos0.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
<div id="main-wrapper">
<section id="main">
<header id="nodeDecoration"><h1 id="nodeTitle">Teoría</h1></header>
<article class="iDevice_wrapper textIdevice em_iDevice" id="id25">
<div class="iDevice emphasis1" >
<header class="iDevice_header iDevice_header_noIcon"><h1 class="iDeviceTitle">¿Qué es un producto notable?</h1></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta25_134_2" class="block iDevice_content">
<div class="exe-text"><p> Los productos notables son simplemente multiplicaciones especiales entre expresiones algebraicas las cuales sobresalen de las demás multiplicaciones por su frecuente aparición en matemáticas. De ahí el nombre producto, que hace referencia a "multiplicación" y notable, que hace referencia a su "destacada" aparición.</p>
<p>Así bien, una vez aprendido dichos productos notables, no habrá necesidad de comprobar dicha multiplicación mecánicamente, es decir, solo debemos seguir las reglas aprendidas con anterioridad que caracterizan a cada producto notable.</p></div>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper textIdevice em_iDevice" id="id26">
<div class="iDevice emphasis1" >
<header class="iDevice_header iDevice_header_noIcon"><h1 class="iDeviceTitle">Binomio al cuadrado</h1></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta26_135_2" class="block iDevice_content">
<div class="exe-text"><h2>📘 Binomio al cuadrado</h2>
<p>Un <strong>binomio al cuadrado</strong> es igual al <strong>cuadrado del primero</strong>, más el <strong>doble del primero por el segundo</strong>, más el <strong>cuadrado del segundo</strong>.</p>
<p>Si los dos signos del binomio son <strong>iguales</strong>, el doble del primero por el segundo es <strong>positivo</strong>:</p>
<p style="text-align: center; font-size: 1.2em; font-style: italic;">(a + b)² = a² + 2ab + b²</p>
<p>Si los signos del binomio son <strong>distintos</strong>, el doble del primero por el segundo es <strong>negativo</strong>:</p>
<p style="text-align: center; font-size: 1.2em; font-style: italic;">(a − b)² = a² − 2ab + b²</p>
<hr />
<h3>🧩 Ejemplos de ejercicios con binomios al cuadrado</h3>
<div style="background-color: #f9f9f9; border-left: 6px solid #0099cc; padding: 10px; margin: 15px 0;">
<h4>①(x + 3)2</h4>
<p>Para resolver este caso usamos la <strong>primera fórmula</strong>, tomando <em>a = x</em> y <em>b = 3</em>. Sustituimos y obtenemos:</p>
<p style="text-align: center; font-size: 1.2em; font-style: italic;">(x + 3)² = x² + 2(x)(3) + 3² = x² + 6x + 9</p>
</div>
<div style="background-color: #f9f9f9; border-left: 6px solid #0099cc; padding: 10px; margin: 15px 0;">
<h4>② (2x − 3)²</h4>
<p>Para resolver este caso usamos la <strong>segunda fórmula</strong>, tomando <em>a = 2x</em> y <em>b = 3</em>. Sustituimos y obtenemos:</p>
<p style="text-align: center; font-size: 1.2em; font-style: italic;">(2x − 3)² = (2x)² − 2(2x)(3) + 3² = 4x² − 12x + 9</p>
</div>
<hr />
<h3>🧠 En resumen</h3>
<ul>
<li>Un binomio al cuadrado siempre tiene tres términos: <strong>cuadrado del primero, doble producto y cuadrado del segundo</strong>.</li>
<li>El signo del doble producto depende de los signos del binomio.</li>
<li>Estos desarrollos se utilizan en <strong>productos notables</strong> y <strong>factorización</strong>.</li>
</ul></div>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper textIdevice em_iDevice" id="id27">
<div class="iDevice emphasis1" >
<header class="iDevice_header iDevice_header_noIcon"><h1 class="iDeviceTitle">Suma por Diferencia</h1></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta27_136_2" class="block iDevice_content">
<div class="exe-text"><h2>🧮 Suma por diferencia</h2>
<p>Una <strong>suma por diferencia</strong> es igual a la <strong>diferencia de cuadrados</strong>. Se aplica cuando los dos factores son iguales, pero uno tiene signo positivo y el otro negativo.</p>
<div style="text-align: center; font-size: 1.3em; margin: 10px 0;">(a + b)(a − b) = a²− b²</div>
<hr />
<h3>✏️ Ejemplos de ejercicios con suma por diferencia</h3>
<div style="background-color: #f9f9f9; border-left: 6px solid #f7b500; padding: 10px; margin: 15px 0;">
<h4>① (2x + 5)(2x − 5)</h4>
<p>Usando la fórmula, llamamos <em>a = 2x</em> y <em>b = 5</em>. Sustituimos y nos queda:</p>
<div style="text-align: center; font-size: 1.3em; margin: 10px 0;">(2x + 5)(2x − 5) = (2x)² − (5)² = 4x² − 25</div>
</div>
<div style="background-color: #f9f9f9; border-left: 6px solid #f7b500; padding: 10px; margin: 15px 0;">
<h4>② (2x² + y³)(2x² − y³)</h4>
<p>Usando la fórmula, llamamos <em>a = 2x²</em> y <em>b = y³</em>. Sustituimos y nos queda:</p>
<div style="text-align: center; font-size: 1.3em; margin: 10px 0;">(2x² + y³)(2x² − y³) = (2x²)² − (y³)² = 4x⁴ − y⁶</div>
</div>
<hr />
<h3>🧠 En resumen</h3>
<ul>
<li>Una <strong>suma por diferencia</strong> se transforma en una <strong>diferencia de cuadrados</strong>.</li>
<li>El resultado <strong>no tiene término intermedio</strong>.</li>
<li>Se usa con frecuencia en <strong>productos notables</strong> y <strong>factorización</strong>.</li>
</ul></div>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper textIdevice em_iDevice" id="id28">
<div class="iDevice emphasis1" >
<header class="iDevice_header iDevice_header_noIcon"><h1 class="iDeviceTitle">Binomio al Cubo </h1></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta28_137_2" class="block iDevice_content">
<div class="exe-text"><h1>🧮 Binomio al cubo</h1>
<h2>📘 ¿Qué es el binomio al cubo?</h2>
<p>El <strong>binomio al cubo</strong> es un caso de producto notable que consiste en elevar al exponente 3 una suma o una resta de dos términos. Se aplica para simplificar y desarrollar expresiones de la forma <em>(a + b)³</em> o <em>(a − b)³</em>.</p>
<div style="text-align: center; font-size: 1.3em; margin: 10px 0;">(a + b)³ = a³ + 3a²b + 3ab² + b³</div>
<div style="text-align: center; font-size: 1.3em; margin: 10px 0;">(a − b)³ = a³ − 3a²b + 3ab² − b³</div>
<hr />
<h2>✏️ Ejemplos de binomio al cubo</h2>
<div style="background-color: #f9f9f9; border-left: 6px solid #4a90e2; padding: 10px; margin: 15px 0;">
<h3>① (x + 2)³</h3>
<p>Usamos la fórmula con <em>a = x</em> y <em>b = 2</em>:</p>
<div style="text-align: center; font-size: 1.2em; margin: 10px 0;">(x + 2)³ = x + 3x²·2 + 3x·2² + 2³ = x³ + 6x² + 12x + 8</div>
</div>
<div style="background-color: #f9f9f9; border-left: 6px solid #4a90e2; padding: 10px; margin: 15px 0;">
<h3>② (x − 1)³</h3>
<p>En este caso, <em>a = x</em> y <em>b = 1</em>:</p>
<div style="text-align: center; font-size: 1.2em; margin: 10px 0;">(x − 1)³ = x³ − 3x²·1 + 3x·1² − 1³ = x³ − 3x² + 3x − 1</div>
</div>
<div style="background-color: #f9f9f9; border-left: 6px solid #4a90e2; padding: 10px; margin: 15px 0;">
<h3>③ (2x + 3y)³</h3>
<p>Aplicamos la fórmula con <em>a = 2x</em> y <em>b = 3y</em>:</p>
<div style="text-align: center; font-size: 1.2em; margin: 10px 0;">(2x + 3y)³ = (2x)³ + 3(2x)²(3y) + 3(2x)(3y)² + (3y)³</div>
<div style="text-align: center; font-size: 1.2em; margin: 10px 0;">= 8x³ + 36x²y + 54xy² + 27y³</div>
</div>
<hr />
<h2>🧠 En resumen</h2>
<ul>
<li>El binomio al cubo se desarrolla usando una fórmula fija.</li>
<li>Se deben identificar correctamente los valores de <strong>a</strong> y <strong>b</strong>.</li>
<li>Es útil para simplificar expresiones algebraicas rápidamente.</li>
</ul></div>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper textIdevice em_iDevice" id="id31">
<div class="iDevice emphasis1" >
<header class="iDevice_header iDevice_header_noIcon"><h1 class="iDeviceTitle">Trinomio </h1></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta31_140_2" class="block iDevice_content">
<div class="exe-text"><p>Un trinomio al cuadrado es igual al cuadrado del primero, más el cuadrado del segundo, más el cuadrado del tercero, más el doble producto del primero por el segundo, más el doble producto del primero por el tercero, más el doble producto del segundo por el tercero.</p></div>
</div>
</div>
</div>
</div>
</article>
<article class="iDevice_wrapper textIdevice em_iDevice" id="id35">
<div class="iDevice emphasis1" >
<header class="iDevice_header iDevice_header_noIcon"><h1 class="iDeviceTitle">Ejercicios</h1></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta35_142_2" class="block iDevice_content">
<div class="exe-text"><p>&lt;!doctype html&gt;</p>
<p></p>
<!-- MathJax para renderizar fórmulas -->
<p>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>
</p>
<style>
    body { font-family: system-ui, -apple-system, Roboto, "Segoe UI", Arial; max-width:800px; margin:2rem auto; padding:1rem; }
    h1 { margin-bottom: .2rem; }
    .card { border:1px solid #e0e0e0; border-radius:8px; padding:1rem; box-shadow: 0 4px 12px rgba(0,0,0,0.03); margin-bottom:1rem; }
    .controls { display:flex; gap:.5rem; align-items:center; margin-bottom:.75rem; flex-wrap:wrap; }
    button { padding:.5rem .8rem; border-radius:6px; border:1px solid #cfcfcf; background:#fff; cursor:pointer; }
    input[type="text"] { padding:.5rem .6rem; border-radius:6px; border:1px solid #ccc; min-width:320px; }
    .feedback { margin-top:.6rem; font-weight:600; }
    .hint { color:#555; }
    .answer-block { background:#fafafa; padding:.6rem; border-radius:6px; margin-top:.6rem; }
    label{ font-size:.9rem; color:#333; }
  </style>
<h1>Trinomio al cuadrado — Generador de ejercicios</h1>
<div class="card">
<div class="controls"><label> Dificultad:<select id="difficulty">
<option value="easy">Fácil (coeficientes pequeños)</option>
<option value="medium" selected="selected">Medio</option>
<option value="hard">Difícil (coeficientes y signos variados)</option>
</select></label> <button id="newProblem">Generar ejercicio</button> <button id="showSolution">Mostrar solución</button> <button id="copyLatex">Copiar LaTeX</button></div>
<div>
<div id="problemDisplay" style="font-size: 1.3rem; padding: .5rem 0;"></div>
<div class="hint">Introduce la expresión expandida (ej: <code>x^4 - 2x^3 + 3x^2 - 2x + 1</code>) y pulsa "Comprobar".</div>
<div style="margin-top: .6rem;"><input id="userAnswer" type="text" placeholder="Escribe la expresión expandida aquí..." aria-label="Respuesta del estudiante" /> <button id="check">Comprobar</button></div>
<div id="feedback" class="feedback"></div>
<div id="solutionArea" class="answer-block" style="display: none;"></div>
</div>
</div>
<p>
<script>
    // --- Representación de un término polinómico y utilidades ---
    function termToString(term) {
      // term = {coef: int, deg: int}
      const c = term.coef;
      const d = term.deg;
      if (c === 0) return '';
      const abs = Math.abs(c);
      let coefStr = '';
      if (d === 0) {
        coefStr = '' + abs;
      } else if (abs === 1) {
        coefStr = '';
      } else {
        coefStr = '' + abs;
      }
      const varStr = (d === 0) ? '' : 'x' + (d === 1 ? '' : '^' + d);
      return (c < 0 ? '-' : '+') + (coefStr + varStr);
    }

    function polyToString(poly) {
      // poly: map degree -> coef
      const degrees = Object.keys(poly).map(x=>parseInt(x)).sort((a,b)=>b-a);
      if (degrees.length === 0) return '0';
      let s = '';
      degrees.forEach(d=>{
        const c = poly[d];
        if (c === 0) return;
        // build term
        const t = termToString({coef:c, deg:d});
        s += t;
      });
      if (s === '') return '0';
      // remove leading +
      if (s[0] === '+') s = s.slice(1);
      return s.replace(/\+\-/g, '-'); // neatness
    }

    // parse input simple: accepts forms like x^4-2x^3+3x^2-2x+1 or with spaces
    function parseUserPoly(input) {
      // normalize
      let s = input.replace(/\s+/g,'');
      // ensure unary plus for easier splitting
      s = s.replace(/^\-/, '0-');
      s = s.replace(/^\+/, '0+');
      // split by + or - but keep sign
      const tokens = s.split(/(?=[+-])/);
      const poly = {};
      for (let t of tokens) {
        if (!t) continue;
        let sign = 1;
        if (t[0] === '+') { sign = 1; t = t.slice(1); }
        else if (t[0] === '-') { sign = -1; t = t.slice(1); }
        // detect degree
        let coef = 0, deg = 0;
        if (t.includes('x')) {
          const parts = t.split('x');
          const coefPart = parts[0];
          coef = (coefPart === '' ? 1 : Number(coefPart));
          if (isNaN(coef)) return null;
          if (parts[1].startsWith('^')) {
            deg = Number(parts[1].slice(1));
            if (isNaN(deg)) return null;
          } else {
            deg = 1;
          }
        } else {
          coef = Number(t);
          if (isNaN(coef)) return null;
          deg = 0;
        }
        const realCoef = sign * coef;
        poly[deg] = (poly[deg] || 0) + realCoef;
      }
      // remove zero coefs
      Object.keys(poly).forEach(k => { if (poly[k] === 0) delete poly[k]; });
      return poly;
    }

    // Expand (A + B + C)^2 where A,B,C are polynomials given as maps degree->coef
    function polyAdd(p, q) {
      const r = Object.assign({}, p);
      for (const k in q) r[k] = (r[k] || 0) + q[k];
      // remove zeros
      Object.keys(r).forEach(k=>{ if (r[k] === 0) delete r[k]; });
      return r;
    }
    function polyMul(p, q) {
      const r = {};
      for (const da in Object.keys(p)) {}
      for (const aDegreeStr in p) {
        const aDegree = Number(aDegreeStr);
        const aCoef = p[aDegreeStr];
        for (const bDegreeStr in q) {
          const bDegree = Number(bDegreeStr);
          const bCoef = q[bDegreeStr];
          const d = aDegree + bDegree;
          r[d] = (r[d] || 0) + aCoef * bCoef;
        }
      }
      // remove zeros
      Object.keys(r).forEach(k=>{ if (r[k] === 0) delete r[k]; });
      return r;
    }

    function scalarPoly(coef, p) {
      const r = {};
      for (const k in p) r[k] = coef * p[k];
      return r;
    }

    function expandSquareOfThree(A,B,C) {
      // (A+B+C)^2 = A^2 + B^2 + C^2 + 2(AB + AC + BC)
      const A2 = polyMul(A,A);
      const B2 = polyMul(B,B);
      const C2 = polyMul(C,C);
      const AB = polyMul(A,B);
      const AC = polyMul(A,C);
      const BC = polyMul(B,C);
      let sum = {};
      sum = polyAdd(sum, A2);
      sum = polyAdd(sum, B2);
      sum = polyAdd(sum, C2);
      sum = polyAdd(sum, scalarPoly(2, AB));
      sum = polyAdd(sum, scalarPoly(2, AC));
      sum = polyAdd(sum, scalarPoly(2, BC));
      return sum;
    }

    // Build a polynomial representation of a "term" like ax^n or constant
    function makeTerm(coef, deg) {
      const p = {};
      if (coef !== 0) p[deg] = coef;
      return p;
    }

    // Generador aleatorio de trinomios con grados 0..2 por término
    function randomInt(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }
    function generateTrinomial(difficulty) {
      // each part will be a single-term polynomial: coef * x^deg
      // choose deg among {0,1,2} with bias for easier
      let degChoices;
      if (difficulty === 'easy') degChoices = [0,1];
      else if (difficulty === 'medium') degChoices = [0,1,2];
      else degChoices = [1,2];

      function coefRange() {
        if (difficulty === 'easy') return [-2,-1,1,2];
        if (difficulty === 'medium') return [-3,-2,-1,1,2,3];
        return [-5,-4,-3,-2,-1,1,2,3,4,5];
      }
      const range = coefRange();

      function pickTerm() {
        const deg = degChoices[randomInt(0, degChoices.length-1)];
        const coef = range[randomInt(0, range.length-1)];
        return makeTerm(coef, deg);
      }

      // Ensure first term (a) is not zero and not all same etc.
      let A = pickTerm();
      let B = pickTerm();
      let C = pickTerm();
      // avoid trivial duplicates sometimes: if exactly same exponents and coefs appear, retry one
      if (JSON.stringify(A) === JSON.stringify(B)) B = pickTerm();
      if (JSON.stringify(C) === JSON.stringify(B) || JSON.stringify(C) === JSON.stringify(A)) C = pickTerm();
      return {A,B,C};
    }

    // Presentación en LaTeX del trinomio (A + B + C)^2
    function polyToLatexSingleTerm(p) {
      // p map with single key
      const d = Object.keys(p).length === 0 ? 0 : Number(Object.keys(p)[0]);
      const c = p[d] || 0;
      if (c === 0) return '0';
      // build like: +x^2 or -2x
      const sign = c < 0 ? '-' : '';
      const abs = Math.abs(c);
      let coefStr = (abs === 1 && d !== 0) ? '' : String(abs);
      const varStr = (d === 0) ? '' : 'x' + (d === 1 ? '' : '^{' + d + '}');
      return sign + coefStr + varStr;
    }

    function trinomialLatex(A,B,C) {
      const a = polyToLatexSingleTerm(A);
      const b = polyToLatexSingleTerm(B);
      const c = polyToLatexSingleTerm(C);

      // combine with + ignoring sign at edges
      function wrap(s) {
        // ensure signs are explicit for concatenation
        if (s.startsWith('-')) return '(' + s + ')';
        else return '(' + s + ')';
      }
      return `\\left(${a} + ${b} + ${c}\\right)^2`;
    }

    // UI wiring
    let currentProblem = null;

    function renderProblem() {
      const disp = document.getElementById('problemDisplay');
      const latex = trinomialLatex(currentProblem.A, currentProblem.B, currentProblem.C);
      disp.innerHTML = `Problema: \\( ${latex} \\)`;
      MathJax.typesetPromise && MathJax.typesetPromise();
      document.getElementById('solutionArea').style.display = 'none';
      document.getElementById('feedback').textContent = '';
      document.getElementById('userAnswer').value = '';
    }

    function generateAndShow() {
      const diff = document.getElementById('difficulty').value;
      currentProblem = generateTrinomial(diff);
      renderProblem();
    }

    document.getElementById('newProblem').addEventListener('click', generateAndShow);

    document.getElementById('check').addEventListener('click', ()=>{
      const input = document.getElementById('userAnswer').value.trim();
      if (!input) {
        document.getElementById('feedback').textContent = 'Escribe una respuesta antes de comprobar.';
        return;
      }
      const parsed = parseUserPoly(input);
      if (parsed === null) {
        document.getElementById('feedback').textContent = 'No se pudo interpretar tu expresión. Usa formato tipo: x^4-2x^3+3x^2-2x+1';
        return;
      }
      const correct = expandSquareOfThree(currentProblem.A, currentProblem.B, currentProblem.C);
      // normalize: remove zero-coef degrees
      const stringifyUser = polyToString(parsed);
      const stringifyCorrect = polyToString(correct);
      if (stringifyUser === stringifyCorrect) {
        document.getElementById('feedback').textContent = '¡Correcto! ✅';
      } else {
        document.getElementById('feedback').textContent = 'Incorrecto. ❌ Revisa y prueba de nuevo, o pulsa "Mostrar solución".';
      }
    });

    document.getElementById('showSolution').addEventListener('click', ()=>{
      const solArea = document.getElementById('solutionArea');
      const correct = expandSquareOfThree(currentProblem.A, currentProblem.B, currentProblem.C);
      const latexSol = polyToString(correct).replace(/\^/g, '^'); // polyToString already uses ^ for exponents in text
      // convert to MathJax friendly latex (replace x^n occurrences)
      let latexFriendly = polyToString(correct)
        .replace(/([0-9\-+]*?)x\^([0-9]+)/g, function(_, coefPart, p){ 
          // handle coef and sign already present in string; need to produce proper latex tokens
          // Simplest approach: reparse and rebuild latex properly:
          return null;
        });

      // Let's build latex from the map instead of trying regex
      const degrees = Object.keys(correct).map(x=>parseInt(x)).sort((a,b)=>b-a);
      if (degrees.length === 0) {
        solArea.innerHTML = 'Solución: \\(0\\)';
      } else {
        let s = '';
        degrees.forEach(d=>{
          const c = correct[d];
          if (c === 0) return;
          const sign = c < 0 ? '-' : (s ? '+' : ''); // no leading +
          const abs = Math.abs(c);
          let coef = '';
          if (d === 0) coef = String(abs);
          else if (abs === 1) coef = '';
          else coef = String(abs);
          const varStr = (d === 0) ? '' : 'x' + (d === 1 ? '' : '^{' + d + '}');
          s += sign + coef + varStr;
        });
        // final latex
        solArea.innerHTML = 'Solución: \\(' + s + '\\)';
      }
      solArea.style.display = 'block';
      MathJax.typesetPromise && MathJax.typesetPromise();
    });

    // copiar LaTeX al portapapeles
    document.getElementById('copyLatex').addEventListener('click', async ()=>{
      const latex = trinomialLatex(currentProblem.A, currentProblem.B, currentProblem.C);
      try {
        await navigator.clipboard.writeText(latex);
        alert('LaTeX copiado al portapapeles:\\n' + latex);
      } catch(e) {
        alert('No se pudo copiar automáticamente. Aquí está el LaTeX:\\n' + latex);
      }
    });

    // Generar la primera vez
    generateAndShow();

  </script>
</p></div>
</div>
</div>
</div>
</div>
</article>
<div id="packageLicense" class="cc cc-by-sa">
<p><span>Obra publicada con</span> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Licencia Creative Commons Reconocimiento Compartir igual 4.0</a></p>
</div>
</section>
</div>
<div id='bottomPagination'>
<nav class="pagination noprt">
<a href="productos_notables.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="practiquemos0.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
</div>
<p id="made-with-eXe"><a href="https://exelearning.net/" target="_blank" rel="noopener"><span>Creado con eXeLearning<span> (Ventana nueva)</span></span></a></p><script type="text/javascript" src="_intef_js.js"></script></body></html>